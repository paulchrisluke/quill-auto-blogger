# Twitch Configuration
# Get these from https://dev.twitch.tv/console
TWITCH_CLIENT_ID=your_twitch_client_id
TWITCH_CLIENT_SECRET=your_twitch_client_secret
TWITCH_BROADCASTER_ID=your_twitch_broadcaster_id

# GitHub Configuration
# Create a personal access token at https://github.com/settings/tokens
GITHUB_TOKEN=your_personal_access_token
GITHUB_USER=your_username
# or GITHUB_REPO=owner/repo

# GitHub Webhook Configuration
GITHUB_WEBHOOK_SECRET=your_webhook_secret

# Cloudflare Configuration
# Get these from https://dash.cloudflare.com/profile/api-tokens
CLOUDFLARE_ACCOUNT_ID=your_account_id
CLOUDFLARE_API_TOKEN=your_api_token
CLOUDFLARE_WORKER_URL=https://your-worker.your-subdomain.workers.dev
CLOUDFLARE_ZONE_ID=your_zone_id

# Domain Configuration
API_DOMAIN=https://api.yourblog.com
MEDIA_DOMAIN=https://media.yourblog.com
FRONTEND_DOMAIN=https://yourblog.com
# Required: Comma-separated list of domains allowed for Twitch embeds
TWITCH_EMBED_DOMAINS=yourblog.com,www.yourblog.com

# Blog Configuration
BLOG_AUTHOR="Your Name"
BLOG_BASE_URL=https://yourblog.com
BLOG_DEFAULT_IMAGE=https://yourblog.com/default.jpg

# Blog Publishing Configuration
BLOG_TARGET_REPO=owner/repo
BLOG_TARGET_BRANCH=main
BLOG_TARGET_DIR=content/blog
BLOG_AUTHOR_NAME="Your Name"
BLOG_AUTHOR_EMAIL="your.email@example.com"

# Blog AI Voice Configuration
BLOG_VOICE_PROMPT_PATH=prompts/your_voice_prompt.md

# AI Configuration
AI_TRANSCRIPTION_ENABLED=true
AI_COMPREHENSIVE_ENABLED=true
AI_COMPREHENSIVE_MAX_TOKENS=8000
AI_FALLBACK_ENABLED=false
AI_TIMEOUT_MS=60000
AI_MAX_CLIPS=3
AI_MAX_EVENTS=8

# AI Polish Configuration
AI_POLISH_ENABLED=true
AI_PROVIDER=cloudflare
CLOUDFLARE_AI_MODEL=@cf/meta/llama-3.3-70b-instruct-fp8-fast
AI_SEED=42
AI_MAX_TOKENS=800

# AI Token Validation Configuration
AI_VALIDATE_TOKENS=true
AI_MAX_INPUT_TOKENS=0

# Feature Flags
STORY_PACKETS_ENABLED=false
STORY_VIDEOS_ENABLED=false
STORY_IMAGES_ENABLED=false

# CORS Security Configuration (for Cloudflare Worker)
# Comma-separated list of allowed origins, or '*' for development
# Examples:
# ALLOWED_ORIGINS=https://yourblog.com,https://www.yourblog.com
# ALLOWED_ORIGINS=*
ALLOWED_ORIGINS=*
WORKER_BEARER_TOKEN=your_worker_bearer_token

# OBS Configuration
OBS_HOST=127.0.0.1
OBS_PORT=4455
OBS_PASSWORD=get_password_in_obs_client
OBS_SCENE="Display Reg"
OBS_RECORD_SECONDS=150
OBS_DRY_RUN=false
RECORDING_PREP_DELAY=5
RECORDING_DURATION=15

# Discord Configuration
# Get these from your Discord application at https://discord.com/developers/applications
DISCORD_APPLICATION_ID=your_application_id
DISCORD_PUBLIC_KEY=your_public_key
DISCORD_BOT_TOKEN=your_bot_token
DISCORD_GUILD_ID=your_guild_id
DISCORD_CHANNEL_ID=your_channel_id
DISCORD_WEBHOOK_URL=your_webhook_url
DISCORD_MENTION_TARGET=

# Control API Configuration
# Required for control endpoints (/control/record/start, /control/record/stop)
# Set a secure token and use it in Authorization: Bearer <token> header
CONTROL_API_TOKEN=your_control_api_token_here

# Video Publishing Configuration
# Publish target: "local" or "r2"
PUBLISH_TARGET=local
# Local publish root (created if missing)
PUBLIC_ROOT=public
# Optional; when set and PUBLISH_TARGET=local, create absolute URLs like ${PUBLIC_BASE_URL}/stories/...
# Do not include a trailing slash (e.g., https://example.com)
PUBLIC_BASE_URL=

# R2 S3 Configuration (required when PUBLISH_TARGET=r2)
# Get these from your Cloudflare R2 dashboard - API Tokens section
R2_ACCESS_KEY_ID=your_r2_access_key_id
R2_SECRET_ACCESS_KEY=your_r2_secret_access_key
R2_S3_ENDPOINT=https://your_account_id.r2.cloudflarestorage.com
R2_BUCKET=your_r2_bucket_name
R2_REGION=auto
# Required for public access; if not set, presigned URLs will be generated (expire in 1 hour)
# e.g., https://cdn.example.com (no trailing slash)
R2_PUBLIC_BASE_URL=

# Cloudflare R2 Custom Domain
CLOUDFLARE_R2_CUSTOM_DOMAIN=

# Site Publishing Configuration
# Directory for built static site files (default: out/site)
SITE_BUILD_DIR=out/site
# Cache control headers for HTML files (default: public, max-age=3600)
SITE_CACHE_HTML=public, max-age=3600
# Cache control headers for JSON files (default: public, max-age=300)
SITE_CACHE_JSON=public, max-age=300

# Video Renderer Configuration
# Viewport size for HTMLâ†’PNG rendering (width x height)
RENDERER_VIEWPORT=1080x1920
# Video output settings
RENDERER_FPS=30
RENDERER_SLIDE_SECONDS=6
RENDERER_CRF=18
# Optional: Force re-render even if video exists
RENDERER_FORCE=false
# Theme: light or dark
RENDERER_THEME=dark

# Narrative-Driven Content Generation (Refactor Features)
# Enable narrative analysis for story connections and themes
NARRATIVE_ANALYSIS_ENABLED=true
# Enable content quality scoring and validation
CONTENT_QUALITY_SCORING_ENABLED=true
# Enable full narrative content generation (replaces template approach)
FULL_CONTENT_GENERATION_ENABLED=true