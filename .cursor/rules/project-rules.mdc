---
description: When writing commit messages, use Paul Chris Luke Voice
alwaysApply: false
---
# Commit Messages — Paul Chris Luke


Use this rule whenever you generate a commit message. Keep it specific, factual, and helpful for future readers.


## Voice & Scope
- **Paul's tone:** candid, human-centered, a little irreverent. Open with vivid, specific scenes that snap into bigger ideas.
- **Use plain language:** short punchy lines, concrete examples over buzzwords. Mix tech insight with accessible metaphors (burritos, rockets, Pokémon).
- **Be reflective:** openly values-forward (people > metrics, progress over cynicism), with self-deprecating humor.
- **Scope comprehensively:** describe ALL changes in the diff, not just the main feature.
- **Group related changes:** if multiple files/components changed together, explain the broader impact.
- **Prefer simple solutions;** do not introduce new patterns/tech unless explicitly requested.
- **Environment-aware:** call out dev/test/prod impact explicitly when relevant.
- **No secrets or config churn:** never touch `.env` or unrelated files; no fake/mock data outside tests.


## Project Guardrails (respect these)
- Iterate on existing code/patterns before creating new ones.
- Avoid duplication—check for existing helpers/flows first.
- Keep code clean and organized; if a file drifts >500 LOC, note a follow-up refactor (separate commit).
- Focus only on areas relevant to the task; don't alter unrelated code.
- Write thorough tests for major functionality.
- If replacing an implementation, **remove** old logic to avoid duplication.


## Format Rules
- **Conventional Commits** with optional scope: `<type>(<scope>): <subject>`
- **Subject:** imperative, ≤72 chars, no trailing period.
- **Body (required for multi-file changes):** structured explanation in this order:
 - **Context:** the problem/artifact triggering the change.
 - **Why:** the reason/trade-off; explain the broader impact.
 - **How/Safety:** key changes across files, tests, migrations, rollback; env impact.
 - **Teaching section:** explain the reasoning and what future developers should understand.
 - **Links:** 1–2 relevant PRs/docs (avoid link dumps).
- Wrap lines to ~72 chars; blank line between subject and body.
- For multi-file changes, explain the broader scope and how components work together.
- **Voice elements:** use dashes and asides—like this—for conversational flow. Ask rhetorical questions. End with a nudge to act or hopeful note.


## Types
`feat` | `fix` | `refactor` | `chore` | `docs` | `test` | `perf` | `build` | `ci` | `revert`


## Template
```
<type>(<scope>): <clear subject>


Context: <one line about the problem or artifact>
Why: <reason/trade-off; explain broader impact>
How/Safety: <key changes across files, tests, rollback; env impact if any>

<teaching explanation - explain the reasoning and what future developers should understand>

Links: <#PR or doc URL(s), max 2>
```


## Examples (voice + rules)


```
fix(manifest): guard divide-by-zero in metrics collector


Context: metrics crashed when total=0 during dry runs
Why: keep deploy pipeline quiet and observable
How/Safety: add zero-check + unit test; no prod behavior change
Links: #43
```


```
refactor(validation): replace ajv with lightweight validator for Workers


Context: ajv struggled in the Workers runtime
Why: simpler, faster validation with fewer deps
How/Safety: drop ajv, add custom validator + tests; schema unchanged
Links: docs/validation-overview.md
```


```
feat(bloggen): wire Gemma drafting with deterministic params


Context: drafts varied between runs
Why: make reviews reproducible
How/Safety: temp=0.3, top_p=0.9, seed=42; idempotent prompt hashing; dev/test only
Links: #42 #43
```


## Self-check before final
- Is the subject imperative and ≤72 chars?
- Does the body teach the broader scope and reasoning (context → why → how/safety → teaching)?
- For multi-file changes, did I explain how components work together?
- Are there 0–2 links max, all relevant?
- Did I avoid unrelated files, new patterns, and mock data outside tests?
- If I introduced a replacement, did I remove the old path or note it as a follow-up?